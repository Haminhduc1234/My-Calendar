<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#d32f2f">

    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="favicon.png">
    <link rel="apple-touch-icon" href="public/favicon.png">

    <title>L·ªãch √Çm D∆∞∆°ng</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="public/favicon.png">
    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.css" />
    <script src="https://unpkg.com/leaflet-routing-machine/dist/leaflet-routing-machine.js"></script>

</head>

<body>
    <div class="app-wrapper">


        <div class="today-panel">
            <div class="today-date">
                <div class="weekday" id="todayWeekday"></div>
                <div class="date-number" id="todayDate"></div>
                <div class="month-year" id="todayMonthYear"></div>
                <div class="lunar-today" id="todayLunar"></div>
                <div id="clock"></div>
            </div>

            <div class="today-extra">
                <div id="quoteText" class="quote"></div>
                <div class="weather" id="todayWeather">
                    L·∫•y th√¥ng tin th·ªùi ti·∫øt...
                </div>
                <div class="weather-forecast" id="weatherForecast"></div>
            </div>
        </div>

        <div class="calendar-container">
            <div class="header">
                <button onclick="changeMonth(-1)">‚óÄ</button>
                <h2 id="monthYear"></h2>
                <button onclick="changeMonth(1)">‚ñ∂</button>
            </div>

            <div class="weekdays">
                <div>CN</div>
                <div>T2</div>
                <div>T3</div>
                <div>T4</div>
                <div>T5</div>
                <div>T6</div>
                <div>T7</div>
            </div>

            <div class="days" id="calendar"></div>
        </div>
        <div class="overtime-box">
            <div>
                <span class="title">Ng√†y th∆∞·ªùng</span>
                <b id="otWeekdayBase">0</b><span class="text-hour">h</span>
                <span class="bonus">(+<b id="otWeekdayBonus">0</b>h)</span>
            </div>

            <div>
                <span class="title">Ch·ªß nh·∫≠t</span>
                <b id="otSundayBase">0</b><span class="text-hour">h</span>
                <span class="bonus">(+<b id="otSundayBonus">0</b>h)</span>
            </div>

            <hr>

            <div>
                <span class="title">T·ªïng c·ªông</span>
                <b id="otTotalBase">0</b><span class="text-hour">h</span>
                <span class="bonus">(+<b id="otTotalBonus">0</b>h)</span>
                = <b id="otTotalSum">0</b><span class="text-hour">h</span>
            </div>

            <div class="salary-box">
                <label>
                    üí∞ L∆∞∆°ng 1 gi·ªù:
                    <input type="text" id="hourSalary" placeholder="VD: 50.000" inputmode="numeric" />
                </label>

                <div class="salary-result">
                    üíµ T·ªïng l∆∞∆°ng OT:
                    <b id="otSalary">0</b> ƒë
                </div>
            </div>

        </div>

        <div class="map-section">
            <div class="map-search">
                <input type="text" id="addressInput" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ c·∫ßn t√¨m..." autocomplete="off" />
            </div>


            <div id="searchResults" class="search-results"></div>

            <div id="map"></div>

        </div>
        <!-- MODAL -->
        <div id="eventModal" class="modal">
            <div class="modal-content">
                <button class="modal-close" onclick="closeModal()">√ó</button>

                <h3>Note</h3>
                <div class="date-label" id="selectedDate"></div>

                <textarea id="eventText" placeholder="Nh·∫≠p n·ªôi dung..."></textarea>

                <div class="modal-actions">
                    <button id="saveBtn" onclick="saveEvent()">L∆∞u</button>
                    <button id="closeBtn" onclick="closeModal()">ƒê√≥ng</button>
                </div>
            </div>
        </div>
        <img src="public/peach-branch.png" class="peach-branch peach-top-right">
        <img src="public/peach-branch.png" class="peach-branch peach-bottom-left">
    </div>
    <footer class="app-footer">
        <div class="footer-content">
            ¬© <span id="year"></span>
            <strong>L·ªãch Vi·ªát</strong> ¬∑ Made with ‚ù§Ô∏è by
            <span class="author">Ha Vu Phuong Linh</span>
        </div>
    </footer>
    <script src="script.js"></script>
    <script src="MapSearch.js"></script>
    <script src="MapSearch.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./service-worker.js');
        }
    </script>
    <script>
        MapSearch.init({
            mapId: "map",
            inputId: "addressInput",
            resultsId: "searchResults"
        });
    </script>
</body>

</html>